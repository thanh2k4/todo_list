{"ast":null,"code":"import React,{useEffect,useState}from'react';import{listTask,deleteTask,updateTask}from'../../services/TaskService';import AddTask from'../AddTask/AddTask';import'./ListTask.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ListTask=()=>{const[tasks,setTasks]=useState([]);const fetchTasks=()=>{listTask().then(response=>{setTasks(response.data);});};const addNewTask=newTask=>{setTasks([...tasks,newTask]);};const removeTask=id=>{deleteTask(id).then(()=>{setTasks(tasks.filter(task=>task.id!==id));});};const toggleCompletion=task=>{const updatedTask={...task,completed:!task.completed};updateTask(task.id,updatedTask).then(()=>{setTasks(tasks.map(t=>t.id===task.id?updatedTask:t));});};const editTask=(id,newTitle)=>{const updatedTask=tasks.find(task=>task.id===id);updatedTask.title=newTitle;updateTask(id,updatedTask).then(()=>{setTasks([...tasks]);});};useEffect(()=>{fetchTasks();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"task-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"task-header\",children:\"To-Do List\"}),/*#__PURE__*/_jsx(AddTask,{onTaskAdded:addNewTask}),/*#__PURE__*/_jsx(\"ul\",{className:\"task-list\",children:tasks.map(task=>/*#__PURE__*/_jsxs(\"li\",{className:\"task-item\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:task.completed,onChange:()=>toggleCompletion(task),className:\"task-checkbox\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:task.title,onChange:e=>editTask(task.id,e.target.value),className:`task-title ${task.completed?'completed':''}`}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeTask(task.id),className:\"delete-button\",children:\"Delete\"})]},task.id))})]});};export default ListTask;","map":{"version":3,"names":["React","useEffect","useState","listTask","deleteTask","updateTask","AddTask","jsx","_jsx","jsxs","_jsxs","ListTask","tasks","setTasks","fetchTasks","then","response","data","addNewTask","newTask","removeTask","id","filter","task","toggleCompletion","updatedTask","completed","map","t","editTask","newTitle","find","title","className","children","onTaskAdded","type","checked","onChange","value","e","target","onClick"],"sources":["C:/Users/ADMIN/OneDrive/Documents/todo_list/todo-frontend/src/components/ListTask/ListTask.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { listTask, deleteTask, updateTask } from '../../services/TaskService';\r\nimport AddTask from '../AddTask/AddTask';\r\nimport './ListTask.css';\r\n\r\nconst ListTask = () => {\r\n    const [tasks, setTasks] = useState([]);\r\n\r\n    const fetchTasks = () => {\r\n        listTask().then((response) => {\r\n            setTasks(response.data);\r\n        });\r\n    };\r\n\r\n    const addNewTask = (newTask) => {\r\n        setTasks([...tasks, newTask]);\r\n    };\r\n\r\n    const removeTask = (id) => {\r\n        deleteTask(id).then(() => {\r\n            setTasks(tasks.filter((task) => task.id !== id));\r\n        });\r\n    };\r\n\r\n    const toggleCompletion = (task) => {\r\n        const updatedTask = { ...task, completed: !task.completed };\r\n        updateTask(task.id, updatedTask).then(() => {\r\n            setTasks(tasks.map((t) => (t.id === task.id ? updatedTask : t)));\r\n        });\r\n    };\r\n\r\n    const editTask = (id, newTitle) => {\r\n        const updatedTask = tasks.find((task) => task.id === id);\r\n        updatedTask.title = newTitle;\r\n        updateTask(id, updatedTask).then(() => {\r\n            setTasks([...tasks]);\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchTasks();\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"task-container\">\r\n            <h1 className=\"task-header\">To-Do List</h1>\r\n            <AddTask onTaskAdded={addNewTask} />\r\n            <ul className=\"task-list\">\r\n                {tasks.map((task) => (\r\n                    <li key={task.id} className=\"task-item\">\r\n                        <input\r\n                            type=\"checkbox\"\r\n                            checked={task.completed}\r\n                            onChange={() => toggleCompletion(task)}\r\n                            className=\"task-checkbox\"\r\n                        />\r\n                        <input\r\n                            type=\"text\"\r\n                            value={task.title}\r\n                            onChange={(e) => editTask(task.id, e.target.value)}\r\n                            className={`task-title ${task.completed ? 'completed' : ''}`}\r\n                        />\r\n                        <button\r\n                            onClick={() => removeTask(task.id)}\r\n                            className=\"delete-button\"\r\n                        >\r\n                            Delete\r\n                        </button>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ListTask;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}